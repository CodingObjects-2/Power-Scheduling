<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Scheduling Dashboard Overview</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="/assest/style.css">
    <link rel="stylesheet" href="/assest/app.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#0A3D62',
                        'primary-blue': '#90CAF9',
                        'card-bg-light': '#E3F2FD',
                        'alert-high': '#DC2626', // Red for high deviation
                        'alert-bg-high': '#FEE2E2', // Light pink background for alert rows
                        'comm-status-ok': '#4CAF50', // Green for communication status (Success)
                        'comm-status-warn': '#FFC107', // Yellow for warning/pending
                        'app-status-running': '#059669', // Darker green for running status
                        'app-status-pending': '#FBBF24', // Amber for pending
                        'app-status-error': '#EF4444', // Red for error
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
</head>

<body class="bg-gray-100 font-sans p-4">

    <div class="fixed top-0 w-full z-20 bg-primary-dark shadow-lg">
        <header class="max-w-7xl mx-auto flex items-center justify-between text-white p-3">
            <nav class="flex space-x-6 text-sm font-semibold">
                <a href="test.html" class="pb-1 border-b-2 border-white">Dashboard</a>
                <a href="alerts.html" class="opacity-80 hover:opacity-100 transition">Alerts</a>
                <a href="dc_submission.html" class="opacity-80 hover:opacity-100 transition">DC Submission</a>
                <a href="#" class="opacity-80 hover:opacity-100 transition">Logout</a>
            </nav>
            <div class="text-sm font-light">Welcome, User</div>
        </header>
    </div>
    <div class="max-w-7xl mx-auto bg-white rounded-lg shadow-xl overflow-hidden">

        <main class="p-4 grid grid-cols-12 gap-4 main-content pt-16">

            <div class="col-span-12 lg:col-span-8 flex flex-col space-y-4">

                <section class="instant-values-panel panel bg-white p-4 rounded-lg">
                    <h2 class="text-lg font-bold mb-3 text-gray-700">Instant Values</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">11:30 - 11:45</span>
                            <span class="label">Current Time Range</span>
                        </div>

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">47</span>
                            <span class="label">Current Block</span>
                        </div>

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">1129.47</span>
                            <span class="label">Declared Capacity</span>
                        </div>

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">625.88</span>
                            <span class="label">Scheduled Export</span>
                        </div>

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">725.82</span>
                            <span class="label">(Last Reported ABT Value)</span>
                        </div>

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">-14.8 MW</span>
                            <span class="label">Permissible Negative Deviation</span>
                        </div>

                        <div
                            class="card bg-primary-blue text-white p-3 rounded-lg flex flex-col items-center justify-center h-24">
                            <span class="value">10 MW</span>
                            <span class="label">Permissible Positive Deviation</span>
                        </div>

                        <div
                            class="card bg-alert-high text-white p-3 rounded-lg flex flex-col items-center justify-center h-24 col-span-2 sm:col-span-1">
                            <span class="value">15.97MW</span>
                            <span class="label">Current Deviation</span>
                        </div>

                    </div>
                </section>

                <section class="daily-graphical-view panel bg-white p-4 rounded-lg flex-grow">
                    <h2 class="text-lg font-bold mb-1 text-gray-700 text-center">Daily Graphical View</h2>
                    <p class="text-sm text-gray-500 mb-4 text-center">Schedule Export vs Actual Export</p>
                    <div class="h-80">
                        <canvas id="lineChart"></canvas>
                    </div>
                </section>

                <section class="deviation-chart-panel panel bg-white p-4 rounded-lg">
                    <h2 class="text-lg font-bold mb-1 text-gray-700 text-center">Deviation Chart</h2>
                    <p class="text-sm text-gray-500 mb-4 text-center">Deviation Percentage (Last 48 Blocks)</p>
                    <div class="h-60">
                        <canvas id="barChart"></canvas>
                    </div>
                </section>
                <section class="data-view-panel panel bg-white p-4 rounded-lg">
                    <h2 class="text-lg font-bold mb-3 text-gray-700">Data View</h2>

                    <div class="text-sm font-semibold mb-3 space-y-1">
                        <p>Date: <span class="text-gray-900">27.10.2025 13:07:00</span></p>
                        <p>Date: <span class="text-gray-900">27.10.2025</span> <a href="#"
                                class="text-primary-dark underline">DC
                                Revision : R-0</a></p>
                        <p>Date: <span class="text-primary-dark underline">27.10.2025</span> <a href="#"
                                class="text-primary-dark underline">Injection Revision : R-29</a></p>
                    </div>

                    <div class="flex items-center mb-3">
                        <input type="checkbox" id="row-highlight" class="mr-2">
                        <label for="row-highlight" class="text-sm text-gray-700">Enable row highlight</label>
                    </div>

                    <div class="data-table-container overflow-y-scroll max-h-96 border border-gray-300">
                        <table class="w-full text-xs text-gray-600">
                            <thead class="bg-gray-50 sticky top-0 z-10">
                                <tr class="border-b border-gray-300">
                                    <th class="py-2 px-2 text-left font-semibold border-r border-gray-300">Time</th>
                                    <th class="py-2 px-2 text-center font-semibold border-r border-gray-300">Block</th>
                                    <th class="py-2 px-2 text-center font-semibold border-r border-gray-300">DC at PGCIL
                                        END (ERLDC)
                                    </th>
                                    <th class="py-2 px-2 text-center font-semibold border-r border-gray-300">Schedule at
                                        PGCIL</th>
                                    <th class="py-2 px-2 text-center font-semibold">Actual Export Plant Bus</th>
                                    <th class="py-2 px-2 text-center font-semibold border-l border-gray-300">Deviation
                                        (MW)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-gray-200 hover:bg-gray-100">
                                    <td class="py-2 px-2 text-left border-r border-gray-200">00:00 - 00:15</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.47</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.37</td>
                                    <td class="py-2 px-2 text-center">1102.34</td>
                                    <td class="py-2 px-2 text-center font-bold text-red-600 border-l border-gray-200">
                                        -2.39</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-100">
                                    <td class="py-2 px-2 text-left border-r border-gray-200">00:15 - 00:30</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">2</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.47</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.37</td>
                                    <td class="py-2 px-2 text-center">1127.7</td>
                                    <td class="py-2 px-2 text-center font-bold text-red-600 border-l border-gray-200">
                                        -0.15</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-100">
                                    <td class="py-2 px-2 text-left border-r border-gray-200">00:30 - 00:45</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">3</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.47</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1081.25</td>
                                    <td class="py-2 px-2 text-center">1115.17</td>
                                    <td class="py-2 px-2 text-center font-bold text-green-600 border-l border-gray-200">
                                        3.14</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-100">
                                    <td class="py-2 px-2 text-left border-r border-gray-200">00:45 - 01:00</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">4</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.47</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1050.50</td>
                                    <td class="py-2 px-2 text-center">1115.17</td>
                                    <td class="py-2 px-2 text-center font-bold text-green-600 border-l border-gray-200">
                                        6.16</td>
                                </tr>
                                <tr class="border-b border-gray-200 hover:bg-gray-100">
                                    <td class="py-2 px-2 text-left border-r border-gray-200">01:00 - 01:15</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">5</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">1129.47</td>
                                    <td class="py-2 px-2 text-center border-r border-gray-200">999.00</td>
                                    <td class="py-2 px-2 text-center">1000.00</td>
                                    <td class="py-2 px-2 text-center font-bold text-green-600 border-l border-gray-200">
                                        0.10</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

            </div>


            <div class="col-span-12 lg:col-span-4 flex flex-col space-y-4">
                <div class="alerts-container">
                    <h2>Alerts & Alarms Summary</h2>
                    <div class="table-scroll-wrapper">
                        <table class="alerts-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Priority</th>
                                    <th>Message</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="high-priority">
                                    <td>13-11-2025 T11:10:07</td>
                                    <td>HIGH</td>
                                    <td>Positive Deviation, Block 8</td>
                                </tr>
                                <tr class="high-priority">
                                    <td>13-11-2025 T11:10:08</td>
                                    <td>HIGH</td>
                                    <td>Positive Deviation, Block 33</td>
                                </tr>
                                <tr class="high-priority">
                                    <td>13-11-2025 T11:10:07</td>
                                    <td>HIGH</td>
                                    <td>Positive Deviation, Block 19</td>
                                </tr>
                                <tr class="high-priority">
                                    <td>13-11-2025 T11:10:08</td>
                                    <td>HIGH</td>
                                    <td>Positive Deviation, Block...</td>
                                </tr>
                                <tr class="high-priority">
                                    <td>13-11-2025 T11:10:09</td>
                                    <td>HIGH</td>
                                    <td>Positive Deviation, Block 5</td>
                                </tr>
                                <tr class="high-priority">
                                    <td>13-11-2025 T11:10:10</td>
                                    <td>HIGH</td>
                                    <td>Positive Deviation, Block 12</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <section class="communication-summary-panel bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h2 class="text-lg font-bold mb-3 text-gray-800">Communication Summary</h2>

                    <div class="space-y-1.5 text-sm">

                        <div class="flex justify-between items-center py-1 px-2 border border-gray-300 rounded-sm">
                            <span class="text-gray-700">Last Communication with ERLDC</span>
                            <span class="text-gray-900 font-semibold text-xs">13-11-2025 T13:05:03</span>
                        </div>

                        <div class="flex justify-between items-center py-1 px-2 border border-gray-300 rounded-sm">
                            <span class="text-gray-700">Last Communication with ABT</span>
                            <span class="text-gray-900 font-semibold text-xs">13-11-2025 T13:05:13</span>
                        </div>

                        <div class="h-1"></div>

                        <div
                            class="flex justify-between items-center py-1 px-2 border border-gray-300 rounded-sm relative overflow-hidden">
                            <div class="absolute left-0 top-0 h-full w-1 bg-yellow-400"></div>

                            <span class="text-gray-700 pl-2">Last Communication with Singapore</span>
                            <span class="text-gray-900 font-semibold text-xs">13-11-2025 T13:05:03</span>
                        </div>

                        <div class="flex justify-between items-center py-1 px-2 border border-gray-300 rounded-sm">
                            <span class="text-gray-700">Last Communication with Mumbai</span>
                            <span class="text-gray-900 font-semibold text-xs">13-11-2025 T13:05:03</span>
                        </div>

                    </div>
                </section>


                <section class="reports-panel panel bg-white p-4 rounded-lg">
                    <h2 class="text-lg font-bold mb-3 text-gray-700">Reports</h2>
                    <ul class="list-disc pl-4 text-sm space-y-1">
                        <li><a href="/report.html" class="text-primary-dark hover:underline">Daily Generation
                                Summary</a></li>
                        <li><a href="/report.html" class="text-primary-dark hover:underline">Coal Flow and Line Loss
                                Summary</a>
                        </li>
                        <li><a href="/report.html" class="text-primary-dark hover:underline">Alerts Summary</a></li>
                    </ul>
                </section>

                <section class="app-performance-panel bg-white p-4 rounded-lg border border-gray-200 shadow-sm">
                    <h2 class="text-lg font-bold mb-3 text-gray-800">Application Performance</h2>

                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-center">
                            <thead>
                                <tr class="text-gray-600 border-b border-gray-300">
                                    <th class="py-2 px-1 text-left font-semibold">Inst Id</th>
                                    <th class="py-2 px-1 font-semibold">CPUMW</th>
                                    <th class="py-2 px-1 font-semibold">Net In</th>
                                    <th class="py-2 px-1 font-semibold">Net Out</th>
                                </tr>
                            </thead>
                            <tbody>

                                <tr class="hover:bg-gray-50 border-b border-gray-200">
                                    <td class="py-2 px-1 text-xs text-left">
                                        <span class="text-gray-900">08e6e2ee18</span><br><span
                                            class="text-gray-700">17c32c1</span>
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        2.55MW
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        0.02 MB
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        1.01 MB
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50 border-b border-gray-200">
                                    <td class="py-2 px-1 text-xs text-left">
                                        <span class="text-gray-900">06f19e5aaff</span><br><span
                                            class="text-gray-700">b5509e</span>
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        0.77MW
                                    </td>
                                    <td class="py-2 px-1 bg-yellow-600 text-white font-mono text-xs">
                                        1.83 MB
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        0.01 MB
                                    </td>
                                </tr>

                                <tr class="hover:bg-gray-50">
                                    <td class="py-2 px-1 text-xs text-left">
                                        <span class="text-gray-900">0f7940d6a6</span><br><span
                                            class="text-gray-700">8d1eb8df</span>
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        0.56MW
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        0.40 MB
                                    </td>
                                    <td class="py-2 px-1 bg-green-600 text-white font-mono text-xs">
                                        16.50 MB
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                </section>
                <div class="col-span-12 lg:col-span-4 flex flex-col space-y-4">

                    <div class="alerts-container bg-white p-4 rounded-lg shadow-sm">
                        <h2 class="text-xl font-bold mb-3 text-red-700">Ai_advisory</h2>
                        <div class="table-scroll-wrapper">
                            <table class="alerts-table w-full text-sm">
                                <thead>
                                    <tr>
                                        <th>Timestamp</th>
                                        <th>MW (Generation)</th>
                                        <th>AI-Advisory</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="high-priority">
                                        <td>00:00 - 00:15</td>
                                        <td>662</td>
                                        <td>Demand rising slightly → Maintain current generation; monitor ramp-up.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>00:15 - 00:30</td>
                                        <td>407</td>
                                        <td>Demand dip detected → Reduce auxiliary load; prepare for next increase.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>00:30 - 00:45</td>
                                        <td>740</td>
                                        <td>High demand forecast → Ensure Unit#2 stable; avoid oil firing.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>00:45 - 01:00</td>
                                        <td>518</td>
                                        <td>Fluctuation expected → Keep Unit#1 at base load; avoid frequent changes.
                                        </td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>01:00 - 01:15</td>
                                        <td>527</td>
                                        <td>Moderate demand → Optimize coal feed; maintain heat rate efficiency.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>01:15 - 01:30</td>
                                        <td>652</td>
                                        <td>Demand surge predicted → Prepare for ramp-up; check turbine parameters.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>01:30 - 01:45</td>
                                        <td>693</td>
                                        <td>Stable high demand → Maintain generation; monitor grid frequency.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>01:45 - 02:00</td>
                                        <td>560</td>
                                        <td>Slight drop forecast → Avoid unnecessary ramp-down; keep reserve ready.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>02:00 - 02:15</td>
                                        <td>660</td>
                                        <td>Demand steady → No major action; maintain optimal combustion settings.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>02:15 - 02:30</td>
                                        <td>723</td>
                                        <td>Peak demand approaching → Ensure cooling water flow; check boiler load.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>02:30 - 02:45</td>
                                        <td>177</td>
                                        <td>Sharp decline forecast → Reduce coal feed; avoid oil support firing.</td>
                                    </tr>
                                    <tr class="high-priority">
                                        <td>02:45 - 03:00</td>
                                        <td>367</td>
                                        <td>Demand recovery expected → Prepare gradual ramp-up; monitor SCC limits.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>



                </div>


            </div>



        </main>
    </div>


    <script>
        // Data derived from the screenshot images for visual replication
        const chartLabels = Array.from({ length: 48 }, (_, i) => String(i + 1).padStart(2, '0'));

        const scheduledData = [1100, 1120, 1080, 1050, 1020, 1000, 980, 950, 920, 890, 850, 800, 750, 700, 650, 620, 620, 630, 650, 900, 920, 950, 980, 1000, 1020, 1050, 1080, 1100, 1120, 1100, 1050, 1000, 950, 900, 850, 800, 750, 700, 650, 600, 620, 650, 680, 710, 750, 800, 850, 900];
        const actualData = [1105, 1115, 1090, 1060, 1030, 1010, 990, 960, 930, 900, 860, 810, 760, 710, 660, 720, 700, 700, 680, 910, 930, 960, 990, 1010, 1030, 1060, 1090, 1110, 1130, 1110, 1060, 1010, 960, 910, 860, 810, 760, 710, 660, 610, 630, 660, 690, 720, 760, 810, 860, 910];

        // Deviation data for the bar chart (approximated from the image)
        const deviationData = [
            -3, 0, 1, 0, 1, -2, -3, 0, 0, 0, 0, 0, 0, -3, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0
        ];

        // --- Line Chart (Schedule Export vs Actual Export) ---
        const lineCtx = document.getElementById('lineChart').getContext('2d');
        new Chart(lineCtx, {
            type: 'line',
            data: {
                labels: chartLabels.map((_, i) => i + 1), // Block numbers 1 to 48
                datasets: [
                    {
                        label: 'Schedule (MW)',
                        data: scheduledData,
                        borderColor: '#2563EB', // Blue line
                        borderWidth: 2,
                        tension: 0.2, // Smoother line
                        pointRadius: 0, // No points
                        fill: false
                    },
                    {
                        label: 'Actual Export (MW)',
                        data: actualData,
                        borderColor: '#10B981', // Green line
                        borderWidth: 2,
                        tension: 0.2,
                        pointRadius: 0,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            boxWidth: 10,
                            padding: 20
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: false,
                        },
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'MW',
                            padding: { top: 0, bottom: 0 }
                        },
                        min: 600,
                        max: 1200,
                        beginAtZero: false,
                    }
                }
            }
        });

        // --- Bar Chart (Deviation Percentage) ---
        const barCtx = document.getElementById('barChart').getContext('2d');
        new Chart(barCtx, {
            type: 'bar',
            data: {
                labels: chartLabels.map((_, i) => i + 1), // Block numbers 1 to 48
                datasets: [{
                    label: 'Deviation Percentage',
                    data: deviationData,
                    backgroundColor: (context) => {
                        // Color bars based on positive (Orange) or negative (Red) deviation
                        const value = context.dataset.data[context.dataIndex];
                        return value >= 0 ? '#F97316' : '#DC2626';
                    },
                    borderRadius: 2,
                    borderWidth: 0,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                    }
                },
                scales: {
                    x: {
                        grid: {
                            display: false
                        }
                    },
                    y: {
                        title: {
                            display: false
                        },
                        min: -5,
                        max: 25,
                        beginAtZero: true
                    }
                }
            }
        });

    </script>
</body>

</html>